---
const sections = [
  { id: "about", label: "About" },
  { id: "experience", label: "Experience" },
  { id: "education", label: "Education" },
  { id: "projects", label: "Projects" },
  { id: "contact", label: "Contact" },
];
---

<header
  class="sticky top-0 z-50 bg-white/95 backdrop-blur-sm border-b border-neutral-200"
>
  <nav
    class="mx-auto max-w-3xl px-4 sm:px-6 flex items-center justify-between h-14 md:h-16"
    aria-label="Main navigation"
  >
    <a
      href="#hero"
      class="text-sm font-medium text-neutral-900 hover:text-neutral-600 transition-colors"
    >
      Thomas Decloedt
    </a>

    <!-- Desktop nav -->
    <div class="hidden md:flex items-center gap-6">
      {
        sections.map(({ id, label }) => (
          <a
            href={`#${id}`}
            class="text-sm text-neutral-600 hover:text-neutral-900 transition-colors min-h-[44px] min-w-[44px] flex items-center justify-center"
          >
            {label}
          </a>
        ))
      }
    </div>

    <!-- Mobile menu button -->
    <button
      type="button"
      class="md:hidden p-3 -m-2 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100 rounded-lg min-h-[44px] min-w-[44px] flex items-center justify-center"
      aria-expanded="false"
      aria-controls="mobile-menu"
      id="menu-toggle"
    >
      <span class="sr-only">Open menu</span>
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        aria-hidden="true"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
  </nav>

  <!-- Mobile menu -->
  <div
    id="mobile-menu"
    class="md:hidden hidden border-t border-neutral-200 bg-white"
    aria-labelledby="menu-toggle"
  >
    <div class="px-4 py-3 space-y-1">
      {
        sections.map(({ id, label }) => (
          <a
            href={`#${id}`}
            class="block py-3 px-4 text-neutral-600 hover:text-neutral-900 hover:bg-neutral-50 rounded-lg min-h-[44px] flex items-center"
            data-close-menu
          >
            {label}
          </a>
        ))
      }
    </div>
  </div>
</header>

<script>
  const toggle = document.getElementById("menu-toggle");
  const menu = document.getElementById("mobile-menu");
  const closeLinks = document.querySelectorAll("[data-close-menu]");

  toggle?.addEventListener("click", () => {
    const expanded = toggle.getAttribute("aria-expanded") === "true";
    toggle.setAttribute("aria-expanded", String(!expanded));
    menu?.classList.toggle("hidden", expanded);
  });

  closeLinks.forEach((link) => {
    link.addEventListener("click", () => {
      toggle?.setAttribute("aria-expanded", "false");
      menu?.classList.add("hidden");
    });
  });
</script>
